---
layout: docs
language: ko
category: 프로그래밍
title: MATLAB
icon: icon-matlab.png
meta: MATLAB
order: 0x05
mathjax: true
---
# MATLAB: 소개
[MATLAB](https://www.mathworks.com/products/matlab.html)은 MathWorks에서 개발한 프로그래밍 및 수치해석 환경을 제공하는 유로 소프트웨어로 선형 방정식 계산을 위한 행렬 프로그래밍이 시초이다. 행렬 계산 이외에도 함수 및 데이터 그래프 출력, 알고리즘 정의, 사용자 인터페이스는 기본이며 필요에 따라 각 분야를 위한 툴박스(toolbox)를 추가하여 더 많은 기능을 수행할 수 있다. 현재 소프트웨어는 매년 상반기와 하반기마다 새로 업데이트되는데 만일 2021년 상반기에 출시된 MATLAB이면 R2021a 출시 번호가 붙는다.

무료로 제공되는 [비주얼 스튜디오](https://ko.wikipedia.org/wiki/마이크로소프트_비주얼_스튜디오)나 [엑스코드](https://ko.wikipedia.org/wiki/엑스코드) 프로그래밍 개발 소프트웨어와 달리, MATLAB은 유료 서비스 정책을 갖는다. 가격 정책은 12개월 구독형 혹은 소장용 가격 정책이 있는데, 후자의 경우 명년 출시 버전까지만 업데이트가 가능하다: R2021a 출시버전을 소장용으로 구매하였면 2022b까지는 MATLAB 업데이트가 가능하나, 그 이후부터는 MathWorks 소프트웨어 관리 서비스를 별도로 구매해야만 소프트웨어 업데이트를 할 수 있다.

문제점은 MATLAB 제품 및 서비스 가격이 만만치 않다는 것이다. 2021년 4월 기준, 일반 MATLAB 프로그램 하나의 가격이 연당 104.4만원에 달하며, 아무리 가장 저렴하게 구매할 수 있는 MATLAB Home 소장용도 가격이 대략 13만원(115.00 USD)이다. 참고로 선택사항인 툴박스는 미포함된 가격이다. 이러한 이유로 매우 오래된 버전의 MATLAB을 여전히 사용하는 사용자들 대다수이다.     

## 대안 소프트웨어
MATLAB의 불편하고 비싼 가격 정책은 많은 사용자들로 하여금 대안 소프트웨어를 찾도록 하였다: Scilab, R 프로그래밍 언어 등이 있는데, 그 중에서 대표적인 두 개의 대안 소프트웨어를 소개한다.

### GNU 옥타브
[GNU 옥타브](https://www.gnu.org/software/octave/index)(GNU Octave)는 매우 유명한 MATLAB 대안 소프트웨어로 심지어 (완벽하지 않지만) 훌륭한 호환성을 자랑한다. 옥타브는 GCC 컴파일러와 마찬가지로 [GNU 프로젝트](https://ko.wikipedia.org/wiki/GNU_프로젝트)이기 때문에 오픈 소스 프로그램이다. MATLAB보다 메모리 소모량이 적다는 장점이 있으나, 대기업의 자본이 투입된 MATLAB에 비하여 인터페이스 및 처리속도 그리고 커뮤니티가 비약하다.

### 파이썬
> *출처: [MathWorks - MATLAB vs. Python: Top Reasons to Choose MATLAB](https://www.mathworks.com/products/matlab/matlab-vs-python.html)*

MATLAB은 유난히 [파이썬](../ko.PRGMING_Python/)을 경계하는 것으로 보인다. 위의 출처에서 알 수 있듯이, MATLAB 제품 사이트에서 파이썬을 콕 집어 설명한다. 그도 그럴 것이 파이썬은 무료 소프트웨어이며 MATLAB 못지 않게 폭넓은 커뮤니티와 방대한 양의 라이브러리가 오픈 소스로 공유되고 있기 때문이다. 그 중에서 대표적인 네 개의 공학용 라이브러리인 [NumPy](https://numpy.org/), [SciPy](https://scipy.org/scipylib/), [matplotlib](https://matplotlib.org/), 그리고 [pandas](https://pandas.pydata.org/)가 있으면 MATLAB만큼 혹은 그 이상의 작업을 기대할 수 있다.

# MATLAB: 인터페이스

![MATLAB 초기화면](/images/docs/matlab/matlab_initial_window.png)

MATLAB 프로그램을 시작하면 위와 같은 초기화면이 나타난다. 비주얼 스튜디오 혹은 엑스코드와 같은 통합개발환경(일명 IDE)을 이미 접한 사용자들은 MATLAB의 인터페이스가 새롭게 느껴질 것이다. 심지어 한글 지원이 없으므로 일부 사용자들은 불편할 수 있다. 본 장은 MATLAB의 프로그램의 기본 인터페이스에 대하여 간략하게 설명한다.

## 명령창
명령창(command window)은 MATLAB 코드를 입력하는 창 중 하나이며, 왼쪽에 `>>`가 있는 게 특징이다. MATLAB을 명령창 형식으로 코드를 하나씩 입력하여 실행하는 방식으로, 이는 파이썬을 명령창으로 실행한 것과 동일한 개념이다. 명령창은 MATLAB을 동작시키는 핵심 인터페이스 요소이다.

![MATLAB 명령창](/images/docs/matlab/matlab_component_cmd.png)

## 작업공간
작업공간(workspace)은 MATLAB 코드를 명령창에 실행하면서 정의된 변수들이 어떤 데이터를 갖고 있는지 목록을 보여준다. 변수들은 명령창이 아닌 작업공간에서 직접 데이터를 언제든지 간편하게 수정할 수 있는 유연성을 제공한다. 작업공간의 변수들은 MATLAB을 실행하는 동안 항시 유지되며, 프로그램을 종료하면 전부 초기화된다.

![MATLAB 작업공간](/images/docs/matlab/matlab_component_workspace.png)

### `ans` 변수
명령창에서 계산을 마무리하였으나 결과물을 저장할 변수가 없을 때, MATLAB에서는 해당 데이터를 자동적으로 `ans` 변수를 생성 및 할당한다.

```matlab
A + B
% 동일:
% ans = A + B
```

그러므로 MATLAB은 프로그램에 의해 언제든지 데이터가 변할 위험이 있는 `ans`를 변수 이름으로 사용하는 것을 권장하지 않는다.

## 스크립트
스크립트(script)는 MATLAB 프로그래밍의 소스 파일이며 `.M` 확장자를 갖는다. 명령창에서 할 수 없던 함수 및 클래스를 정의할 수 있으며, 명령창에서 해당 스크립트를 호출하여 언제든지 사용할 수 있다. 또한 스크립트에서 정의된 변수는 작업공간에서 확인할 수 있다. 파이썬에 비유하면 `.PY` 확장자 소스 파일과 동일하다.

![MATLAB 스크립트](/images/docs/matlab/matlab_component_script.png)

> 그러므로 본 문서에서 MATLAB 프로그래밍에 대한 설명은 스크립트 기반으로 진행한다.

### 라이브 스크립트
라이브 스크립트(Live Script)란, MATLAB R2016a부터 새롭게 소개된 라이브 편집기(Live Editor) 환경에서 일반 스크립트를 포맷 텍스트, 방정식, 그리고 이미지와 하나로 통합시킨 `.MXL` 확장자 상호작용 문서이다. 상호작용 문서에 걸맞게 라이브 스크립트의 코드 출력값은 전부 라이브 스크립트 내에서 나타나며, 명령창을 통해 실행되는 게 아니다. 이와 유사한 환경이 바로 상호작용 가능한 파이썬을 제공하는 [주피터 노트북](https://jupyter.org/)이다.
    
# MATLAB: 기초
> *참고: [Wikibooks - MATLAB Programming](https://en.wikibooks.org/wiki/MATLAB_Programming)*

각 프로그래밍 언어마다 준수되어야 할 규칙과 기반이 되는 데이터들이 존재한다. 이를 어길 시에는 프로그램에 오류가 발생하거나 정상적인 동작을 보장할 수 없다. 실질적인 프로그래밍에 있어, 본 장에서는 MATLAB 프로그램 코딩에 기초적인 정보 제공을 목표로 한다.

## 주석
주석(comment)은 프로그래밍에 있어 실행되지 않는 부분이며, 흔히 어떠한 정보를 간략히 스크립트 내에 입력하는데 사용된다. MATLAB에는 두 가지의 주석이 존재하며, 이들은 각각 "한줄 주석"과 "블록 주석"이라 부른다.

* *한줄 주석*
    : 코드 한 줄을 차지하는 주석이며, 퍼센트 기호(`%`)로 표시된다.

* *블록 주석*
    : 코드 여러 줄을 차지하는 주석이며, 한 쌍 퍼센트 기호와 중괄호 조합(`%{ %}`)으로 표시된다. 이를 블록 주석 연산자(block comment operator)라 부르며, 반드시 해당 연산자가 위치한 줄에는 어떠한 코드가 있어서는 안된다.

```matlab
%{
블록 주석:
코드 여러 줄을 차지하는 주석이며, 프로그램 실행 중에서도 볼 수 있다.
%}
% 한줄 주석: 코드 한 줄을 차지하는 주석이다.
```

## 명령어
명령어(command)란, MATLAB에서 어떠한 기능을 수행하는 코드를 가리킨다. 일반 프로그래밍 언어에서의 함수(function)와 일맥상통한다. 다음은 MATLAB에서 매우 기초적인 명령어 일부를 소개한다.

| 명령어 | 설명 |
|:-----:|-----|
| `help` | MATLAB 도움말 |
| `clc` | 명령창 초기화 |
| `clear` | 작업공간 초기화 |
| `home` | 커서를 명령창 상단으로 이동 |

## 식별자
식별자(identifier)은 프로그램 데이터들을 구별하기 위해 사용되는 명칭이다. 간단히 말해, 식별자는 개발자가 데이터에 직접 붙여준 이름이다. MATLAB에서 식별자를 선정하는데 아래의 규칙을 지켜야 한다.

* 오직 영문, 숫자, 밑줄(`_`)만 허용된다.
* 첫 문자는 숫자로 시작할 수 없다.
* 공백은 허용되지 않는다.
* 대소문자를 구분한다.

### `exist` 명령어
`exist` 명령어는 해당 식별자가 현재 사용되고 있는지 판별한다. 만일 함수가 `0`을 반환하면 해당 식별자를 사용하고 있는 데이터가 없음을 의미한다.

```matlab
exist variable
```

```
ans =
     0
```

아래 도표는 `exist` 함수의 각 반환값에 대한 설명이다.

| 반환 | 의미 |
|:---:|-----|
|  0  | 존재하지 않는, 또는 어떠한 이유로 찾을 수 없는 식별자 |
|  1  | 작업공간에 존재하는 식별자 |
|  2  | MATLAB의 `.M`, `.MXL`, `.MLAPP` 확장자 혹은 MATLAB 무관한 `.MAT`, `.FIG`, `.TXT` 등의 확장자 파일명 |
|  3  | MATLAB MEX 파일명 |
|  4  | Simulink 모델 혹은 Simulink 관련 라이브러리 파일명  |
|  5  | MATLAB 내장 함수 (클래스 제외) |
|  6  | MATLAB P-코드 파일명 |
|  7  | 폴더명 |
|  8  | 클래스 |

### `iskeyword` 명령어
키워드(keyword)는 프로그래밍 언어 내에서 특정 목적을 위해 미리 지정된 식별자를 가리킨다. 키워드를 식별자를 사용할 수 없으며, 이들 목록은 `iskeyword` 명령어로 확인할 수 있다. 또는 확인하고자 하는 식별자를 명령어에 건네주어 키워드 여부를 참(`1`) 혹은 거짓(`0`)으로 판별한다.

```matlab
iskeyword if
```

```
ans =
  logical
   1
```

## 변수
변수(variable)는 할당 기호(`=`)를 사용하여 데이터를 할당받을 수 있는 저장공간이다. 변수 또한 이름을 가지는데, 아래 예시의 변수는 `variable`이란 식별자를 가지며 `1`이란 값을 할당받는다.

```matlab
variable = 1
```

거의 모든 프로그래밍 언어는 할당 연산자를 기준으로 왼쪽에는 피할당자(변수), 오른쪽에는 할당자(데이터 혹은 변수)가 위치한다. 반대로 놓여질 경우, 오류가 발생하거나 원치 않는 결과가 도출될 수 있다. 데이터를 할당하지 않고 변수를 생성할 수 없으며, 정의된 모든 변수들은 작업공간에서 확인할 수 있다.

### 문장 종단자
프로그래밍에서 문장(statement)이란, 실질적으로 무언가를 실행하는 하나의 완전한 코드를 의미한다.

> 여기서 "완전한 코드"는 명령창에서 오류 없이 실행되는 MATLAB 코드를 가리키며, `exist` 명령어는 판별 대상인 식별자가 반드시 필요하기 때문에 단독적으로 사용할 수 없어 문장이 아니다.

MATLAB에서 하나의 문장은 기본적으로 스크립트 다음 줄로 넘어갈 때마다 구분된다. 그러나 줄바꿈 이외에도 MATLAB은 문장을 구분짓는 두 가지의 문장 종단자(statement terminator)를 갖는다. 이들은 여러 명령어를 한 줄에 한꺼번에 입력할 수 있도록 하는 특징을 갖는다.

| 문장 종단자  | 기호  | 설명 |
|:----:|:---:|----|
| 쉼표   | `,` | 계산 결과를 보여준다.   |
| 세미콜론 | `;` | 계산 결과를 보여주지 않는다.   |

```matlab
A = 1, B = 2;    % A에 대한 결과는 보여주지만, 반면 B에 대한 결과는 나타나지 않는다.
A + B
```

```
A =
     1

ans =
     3
```

# MATLAB: 행렬
MATLAB 프로그램 이름은 "[행렬](https://ko.wikipedia.org/wiki/행렬) 실험실(**MAT**rix **LAB**oratory)"에서 유래되었다. 태초부터 행렬 계산이 핵심이었던 MATLAB은 모든 데이터를 행렬로 취급한다. 이전 장에서 보였던 예시들은 `A = 1`과 같은 [스칼라](https://ko.wikipedia.org/wiki/스칼라_(수학))(scalar)였으나, 사실상 MATLAB에서는 이를 $$1 \times 1$$ 크기의 행렬로 취급한다.

```matlab
% A는 행렬이고 B는 스칼라이다.
% 만일 스칼라를 행렬로 취급하면 둘은 논리적으로 동일, 즉 1이 반환되어야 한다.
A = [1];
B =  1 ;
A == B
```

```
ans =
  logical
   1
```

본 장에서는 MATLAB에서 행렬을 다루는 방법을 소개한다.

## 연산자
연산자(operator)는 피연산자의 데이터를 조작할 수 있는 가장 간단한 데이터 처리요소이다. 연산자는 피연산자의 접두부, 접미부, 혹은 두 데이터 사이에 위치시켜 사용한다.

### 비교 연산자
비교 연산자(relational operator)는 두 데이터 간의 비교 조건을 확인하며, 이에 대한 결과로 참(`true`) 혹은 거짓(`false`) 논리값을 반환한다. 비교 연산자는 아래의 도표에서 확인할 수 있다.

| 미만 | 이하 | 동일 | 상이 | 이상 | 초과 |
|:----:|:----:|:----:|:----:|:----:|:----:|
| `<`  | `<=` | `==` | `~=` | `>=` | `>`  |

### 논리 연산자
논리 연산자(logical operator)에는 논리곱, 논리합, 그리고 보수가 있다. 논리 연산자를 사용할 시, 참(`true`)과 거짓(`false`) 논리값을 각각 이진수의 1과 0으로 간주하면 된다.

| 연산자 | 논리 | 설명                                                |
|:--------:| ----- | ---------------------------------------------------------- |
| `|`     | 논리합  | 하나 이상의 인수가 참이면 `true`이고, 그렇지 않으면 `false`이다. |
| `||`     | 단락형 논리합 | 좌측 피연산자가 참일 경우에만 실행되는 논리합 연산자이다.   |
| `&`     | 논리곱  | 모든 인수가 참이면 `true`이고, 그렇지 않으면 `false`이다.       |
| `&&`     | 단락형 논리곱 | 좌측 피연산자가 참일 경우에만 실행되는 논리곱 연산자이다.   |
| `~`      | 보수   | `true`를 `false`로 변경 또는 `false`를 `true`로 변경한다.    |
